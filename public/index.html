<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>FreeDomains</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
      />
    <link
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      rel="stylesheet"
      integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
      crossorigin="anonymous"
      />
    <link rel="stylesheet" href="/index.css">
  </head>
  <body>
    <div class="container" style="margin-top: 50px;">
      <div class='headContainer' style="display: flex; justify-content: space-between;">
        <div>
          <h1>Free Domains For Your Apps</h1>
          <p>
          This is a shared resource, please use responsibily. To ensure fair use and reduce costs, inactive Apps will be automatically removed after 7 days.
          </p>
          <p>
          This app is powered by
          <a href="https://garagescript.github.io/myProxy/" target="_blank">MyProxy</a>
          </p>

          <p>
          Featured Apps: 
          <a href="https://cornyjokes.learnjs.tips" class="appLink" target="_blank">Corny Jokes</a>
          <br />
          Want to be featured? Email Herman at 
          <a href="mailto:hwong.0305@gmail.com" class="appLink" >hwong.0305@gmail.com</a>
          </p>

          <h4>Step 1: Pick a domain name</h4>
          <p>This will be the domain name that your friends and family will be putting into the browser to visit your website.</p>
        </div>

        <div>
          <button class="btn-outline-danger btn" data-toggle="modal" data-target="#exampleModal" >
            <ion-icon name="help"></ion-icon>
            HELP
          </button>
        </div>
      </div>
      <div class="d-flex justify-content-between">
        <div class="input-group mr-3 mb-2" style="min-width:250px;">
          <input
            type="text"
            class="form-control subDomain"
            id="subdomain"
            placeholder="Subdomain (Optional)"
            />

          <div class="input-group-append">
            <button
              type="button"
              class="btn btn-outline-info dropdown-toggle"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
              id="hostSelector"
              data-value=""
              >
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
          </div>

          <div class="invalid-feedback"> </div>

        </div>

        <button
          type="submit"
          id="newPortButton"
          class="btn btn-outline-primary mb-2 create"
          >
          Create
        </button>
      </div>
      <hr />
      <div class="row">
        <div class="col-12">
          <ul class="list-group domainList"></ul>
        </div>
      </div>
      <hr />
      <div class="row">
        <div class="col-12">
          <h4>Step 3: Deploy!</h4>
          <h5>3a: Go into the downloaded folder</h5>
          <div class="indent">
            git clone ... from step 2 would have downloaded a folder. Go into it.
            <br />
            If your url was <span class="inlineCode">new.n00b.city</span>, then you should type:
            <span class="inlineCode">cd new.n00b.city</span>
          </div>

          <h5>3b: Initialize your project</h5>
          <div class="indent">
            Initialize your project with the following command. A new file (package.json) will be created for you.
            <br />
            <span class="inlineCode">npm init -y</span>
          </div>

          <h5>3c: Create a simple javascript file</h5>
          <div class="indent">
            Create a file. For example,
            <span class="inlineCode">app.js</span>
            <br />
            Put the following code into it. This just sends back "hello" with every request
          <pre style="background-color: #f3f3f3; padding: 0 30px"><code>
const express = require('express')
const app = express()
app.use(express.static('public'))
app.get('/', (req, res) => {
  res.send('hello');
});

app.listen(process.env.PORT || 8123);
          </code></pre>
          </div>

          <h5>3d: Install dependencies</h5>
          <div class="indent">
            The code above uses a library called express. You need to install it and save this dependency to package.json.
            <br />
            <span class="inlineCode">npm i --save express</span>
          </div>

          <h5>3e: Tell MyProxy Server how to run your app</h5>
          <div class="indent">
            Under the "main" section of package.json file, put the filename of your app main entry point.
            <pre style="background-color: #f3f3f3; padding: 0 30px"><code>
...
"main": "app.js",
....
          </code></pre>
          </div>

          <h5>3f: Save and push!</h5>
          <div class="indent">
            Add all files to git:
            <span class="inlineCode">git add .</span>
          </div>
          <div class="indent">
            Save your changes
            <span class="inlineCode">git commit -m "add my first app"</span>
          </div>
          <div class="indent">
            Push!
            <span class="inlineCode">git push origin master</span>
          </div>

          <h5>4. Celebrate</h5>
          <div class="indent">
            Tell all your friends about your new website!
          </div>

          <hr>
        </div>
      </div>

      <div class="row">
        <div class="col-12">
          <h4>Video Overview</h4>
            <div class="groupStep">
              <p>
                The video below shows you how to deploy your apps after setting up your SSH Key. The contents may contain more information than the steps above because they are taken from the MyProxy site, but it should be enough to help you understand each steps.
              </p>
              <div>
                <iframe width="100%" height="315" src="https://www.youtube.com/embed/Tjx0BtpZmPc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              </div>
            </div>
        </div>
      </div>

    </div>

    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Getting Started: All you need is your SSH Key</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>The commands mentioned in the steps must be typed into the terminal</p>
            <div class="groupStep">
              <div>
                1. Print your ssh key: 
                <span class="inlineCode">cat ~/.ssh/id_rsa.pub</span>
              </div>
              <div class="indent">
                If you don't have the file, create it:
                <span class="inlineCode">ssh-keygen</span>
              </div>
              <div class="indent2">
                Hit enter for every prompt to use the system defaults.
              </div>
              <div class="indent2">
                Then print your ssh key (step 1)
              </div>
            </div>

            <div class="groupStep">
              <div>
                2. Paste your ssh key into the input box below
              </div>
              <div>
                <textarea class="form-control" id="sshKeyInput" placeholder="Your SSH Key, which looks like this: ssh-rsa ...RANDOMSTRING.... email@domain.tld" required></textarea>
              </div>
            </div>

            <div class="groupStep">
              <div>
                3. Click the save button below and start deploying your applications!
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="saveSshKey">Save</button>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
      ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
      ></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
      ></script>
    <script src="/index.js"></script>
    <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>

    <script src="/featured.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-106496831-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-106496831-2');
    </script>
  </body>
</html>

